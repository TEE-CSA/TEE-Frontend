<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background-color: rgb(0, 170, 255);
            font-family: Arial, sans-serif;
        }

        .text {
            text-align: right;
            color: white;
        }

        #track {
            
            position: relative;
            height: 400px;
            width: 130%;
            background-color: #5d5c5c;
            margin-left: 20px;
            margin-bottom: 20px;
        }

        .race-car1, .race-car2, .race-car3, .race-car4 {
            position: absolute;
            top: 20px;
            width: 175px;
            height: 70px;
            margin: auto;
            transition: transform 4s linear; /* Increased the duration for a slower race */
        }

        .lane, .lane1 {
            height: 25%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            border-bottom: 2px solid #fff;
        }

        .lane1 {
            height: 25%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .finish {
            height: 400px; 
            width: 50px;
            background-color: rgb(241, 35, 35);
            position: relative;
            left: 100%; 
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .finish-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            color: white;
            font-size: 28px;
            transform: rotate(180deg);
        }
        

        #startButton, #resetButton {
            display: inline-block;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-right: 10px;
        }

        #speedForm {
            margin-top: 20px;
        }

        #speedForm label {
            display: block;
            margin-bottom: 5px;
        }

        #speedForm input {
            width: 50px;
            margin-bottom: 10px;
        }

        #lengthForm {
            margin-top: 20px;
            margin-bottom: 20px
        }

        #lengthForm label {
            font-size: 25px;
            display: block;
            margin-bottom: 10px;
        }

        #lengthForm input {
            width: 200px;
            margin-bottom: 10px;
            background-color: black;
            color: white;
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1 class="text">User Score: 0</h1>
    <h1 class="text">Amount Bet: 0</h1>
    
    <div id="track">
        <div class="lane">
            <img class="race-car1" src="{{site.baseurl}}/images/car1-removebg-preview.png" alt="Car 1">
        </div>
        <div class="lane" style="top: 25%;">
            <img class="race-car2" src="{{site.baseurl}}/images/car2-removebg-preview.png" alt="Car 2">
        </div>
        <div class="lane" style="top: 50%;">
            <img class="race-car3" src="{{site.baseurl}}/images/car3-removebg-preview.png" alt="Car 3">
        </div>
        <div class="lane1" style="top: 75%">
            <img class="race-car4" src="{{site.baseurl}}/images/car4-removebg-preview.png" alt="Car 4">
        </div>
        <div class="finish">
            <span class="finish-text">Finish</span>
        </div>
    </div>

    <form id="speedForm">
        <label for="speed1">Speed for Car 1:</label>
        <input type="number" id="speed1" min="1" value="1">

        <label for="speed2">Speed for Car 2:</label>
        <input type="number" id="speed2" min="1" value="1">

        <label for="speed3">Speed for Car 3:</label>
        <input type="number" id="speed3" min="1" value="1">

        <label for="speed4">Speed for Car 4:</label>
        <input type="number" id="speed4" min="1" value="1">
    </form>

    <form id="lengthForm"><center>
        <label for="length">Length of Fibonacci Numbers</label>
        <input type="number" id="length" min="1" value="1">
    </center></form>

    <button id="startButton" onclick="startFibonacciRace()">Start Fibonacci Race</button>
    <button id="resetButton" onclick="resetRace()">Reset Race</button>

    <script>
        function startFibonacciRace() {
            // user input for car speeds
            const speed1 = parseFloat(document.getElementById('speed1').value);
            const speed2 = parseFloat(document.getElementById('speed2').value);
            const speed3 = parseFloat(document.getElementById('speed3').value);
            const speed4 = parseFloat(document.getElementById('speed4').value);

            // initial car position
            document.querySelector('.race-car1').style.transform = `translateX(0)`;
            document.querySelector('.race-car2').style.transform = `translateX(0)`;
            document.querySelector('.race-car3').style.transform = `translateX(0)`;
            document.querySelector('.race-car4').style.transform = `translateX(0)`;

            // start animation
            setTimeout(() => {
                document.querySelector('.race-car1').style.transform = `translateX(1300%)`;
            }, 100 * (1 / speed1));

            setTimeout(() => {
                document.querySelector('.race-car2').style.transform = `translateX(1300%)`;
            }, 100 * (1 / speed2));

            setTimeout(() => {
                document.querySelector('.race-car3').style.transform = `translateX(1300%)`;
            }, 100 * (1 / speed3));

            setTimeout(() => {
                document.querySelector('.race-car4').style.transform = `translateX(1300%)`;
            }, 100 * (1 / speed4));
        }

        function resetRace() {
            // reset car position
            document.querySelector('.race-car1').style.transform = `translateX(0)`;
            document.querySelector('.race-car2').style.transform = `translateX(0)`;
            document.querySelector('.race-car3').style.transform = `translateX(0)`;
            document.querySelector('.race-car4').style.transform = `translateX(0)`;
        }
    </script>
</body>
</html>
